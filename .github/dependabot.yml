# Dependabot Configuration
#
# This file defines how automated dependency version updates are managed
# for this repository. It is intentionally explicit, conservative, and
# designed for long-term maintainability rather than short-term convenience.
#
# Dependabot is treated here as a governance mechanism, not merely an
# automation tool. Its purpose is to reduce supply-chain risk, control
# dependency drift, and ensure that updates enter the codebase through
# predictable, reviewable pathways.
#
# File location (mandatory):
#   .github/dependabot.yml
#
# Any deviation in filename or path will result in Dependabot being ignored.

version: 2

updates:
  # ---------------------------------------------------------------------------
  # Core dependency update policy
  # ---------------------------------------------------------------------------
  #
  # Each entry under "updates" defines:
  #   - which package ecosystem is monitored
  #   - where its dependency manifests live
  #   - how often updates are checked
  #   - how updates are grouped, labeled, and limited
  #
  # Multiple ecosystems may coexist in a single repository, each with
  # independent rules. This configuration is intentionally written to be
  # extensible without requiring structural refactoring later.
  #
  # ---------------------------------------------------------------------------

  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "sunday"
      time: "03:00"
      timezone: "UTC"

    # -------------------------------------------------------------------------
    # Update behavior
    # -------------------------------------------------------------------------
    #
    # Weekly updates are chosen deliberately. Daily updates often generate
    # noise, dilute review attention, and increase the risk of unexamined
    # changes entering the system. Monthly updates, on the other hand, may
    # allow security fixes to age unnecessarily.
    #
    # Weekly cadence represents a controlled compromise between freshness
    # and stability.
    #
    # -------------------------------------------------------------------------

    open-pull-requests-limit: 5

    # -------------------------------------------------------------------------
    # Commit message discipline
    # -------------------------------------------------------------------------
    #
    # Clear commit messages matter for auditability, changelog generation,
    # and long-term archaeology. Prefixes are chosen to remain neutral and
    # automation-friendly.
    #
    # -------------------------------------------------------------------------

    commit-message:
      prefix: "deps"
      include: "scope"

    # -------------------------------------------------------------------------
    # Labels
    # -------------------------------------------------------------------------
    #
    # Labels allow downstream automation, review routing, and filtering.
    # These labels should exist in the repository beforehand to avoid
    # silent failures or inconsistent metadata.
    #
    # -------------------------------------------------------------------------

    labels:
      - "dependencies"
      - "automation"
      - "security-surface"

    # -------------------------------------------------------------------------
    # Update constraints
    # -------------------------------------------------------------------------
    #
    # Only version updates are enabled here. Dependency removal or ecosystem
    # migration is explicitly out of scope for automation and must be handled
    # manually with full review context.
    #
    # -------------------------------------------------------------------------

    allow:
      - dependency-type: "direct"

    # -------------------------------------------------------------------------
    # Pull request hygiene
    # -------------------------------------------------------------------------
    #
    # Rebase strategy ensures that dependency updates remain linear and
    # conflict-free relative to the default branch. This reduces reviewer
    # burden and avoids unnecessary merge commits.
    #
    # -------------------------------------------------------------------------

    rebase-strategy: "auto"

  # ---------------------------------------------------------------------------
  # Example: Language-level ecosystem (disabled by default)
  # ---------------------------------------------------------------------------
  #
  # The following block demonstrates how additional ecosystems should be
  # introduced. It is intentionally commented out to prevent accidental
  # activation without conscious review.
  #
  # Uncomment and adapt only when the repository actively uses this ecosystem.
  #
  # ---------------------------------------------------------------------------

  # - package-ecosystem: "npm"
  #   directory: "/"
  #   schedule:
  #     interval: "weekly"
  #     day: "sunday"
  #     time: "04:00"
  #     timezone: "UTC"
  #
  #   open-pull-requests-limit: 3
  #
  #   commit-message:
  #     prefix: "deps"
  #     include: "scope"
  #
  #   labels:
  #     - "dependencies"
  #     - "javascript"
  #
  #   ignore:
  #     - dependency-name: "*"
  #       update-types:
  #         - "version-update:semver-major"

# -----------------------------------------------------------------------------
# Operational Philosophy
# -----------------------------------------------------------------------------
#
# This Dependabot configuration is designed around the following principles:
#
# 1. Predictability over aggressiveness
#    Automated updates should be boring, reviewable, and expected. Surprises
#    are treated as failures of configuration.
#
# 2. Human review is non-negotiable
#    Dependabot proposes changes; it does not decide correctness. All updates
#    are expected to pass CI and undergo human evaluation before merge.
#
# 3. Security posture is cumulative
#    Small, regular updates reduce the blast radius of any single change and
#    make vulnerability remediation routine rather than exceptional.
#
# 4. Explicit scope boundaries
#    Automation is constrained to version updates only. Architectural shifts,
#    dependency replacement, or ecosystem changes require deliberate human
#    intervention.
#
# 5. Long-term maintainability
#    This file is written to be read years later. Comments exist to explain
#    intent, not syntax. Intent survives longer than implementation details.
#
# -----------------------------------------------------------------------------
#
# This configuration may evolve, but its guiding constraint remains fixed:
# dependency management must be transparent, auditable, and subordinate to
# system integrity rather than convenience.
#
# -----------------------------------------------------------------------------
